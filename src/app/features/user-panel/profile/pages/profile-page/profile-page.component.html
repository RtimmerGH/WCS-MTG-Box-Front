<mat-card class="mx-auto mt-6 max-w-lg rounded-lg bg-white p-3 shadow-md">
    <div class="flex flex-col">
        <form [formGroup]="userNameForm" class="mt-3" (ngSubmit)="changeUsername()">
            <mat-form-field appearance="fill" class="w-full">
                <mat-label>{{ 'UpdateProfile.username' | translate }}</mat-label>
                <input matInput formControlName="username" class="bg-gray-100" />
            </mat-form-field>
            <button
                mat-raised-button
                color="primary"
                type="submit"
                class="w-full"
                [disabled]="!isUsernameFormModified()">
                {{ 'UpdateProfile.save' | translate }}
            </button>
        </form>
    </div>
</mat-card>

<mat-card class="mx-auto mt-6 max-w-lg rounded-lg bg-white p-6 shadow-md">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="flex flex-col space-y-4">
        <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'UpdateProfile.email' | translate }}</mat-label>
            <input matInput formControlName="email" class="bg-gray-100" />
        </mat-form-field>

        <mat-form-field>
            <mat-label>{{ 'UpdateProfile.department' | translate }}</mat-label>
            <mat-select formControlName="department" required>
                <mat-option *ngFor="let department of departments" [value]="department.code"
                    >{{ department.code }} - {{ department.name }}</mat-option
                >
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="w-full">
            <mat-label>{{ 'UpdateProfile.city' | translate }}</mat-label>
            <input matInput formControlName="city" />
        </mat-form-field>

        <div class="flex items-center">
            <mat-slide-toggle formControlName="isActive">
                {{ 'UpdateProfile.active' | translate }}</mat-slide-toggle
            >
        </div>

        <button
            mat-raised-button
            color="primary"
            type="submit"
            class="w-full"
            [disabled]="!isFormModified()">
            {{ 'UpdateProfile.save' | translate }}
        </button>
    </form>
</mat-card>

<div class="mt-9 flex items-center justify-center gap-10">
    <button mat-raised-button color="primary" (click)="openModifyPasswordDialog()">
        {{ 'UpdateProfile.password-modify' | translate }}
    </button>
    <button mat-raised-button color="warn" (click)="openDeleteUserDialog()">
        {{ 'UpdateProfile.delete-account' | translate }}
    </button>
</div>
